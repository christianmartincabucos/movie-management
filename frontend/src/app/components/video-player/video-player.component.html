<div class="relative w-full">
  @if (loading) {
    <div class="absolute inset-0 flex items-center justify-center bg-black/50">
      <div class="w-12 h-12 border-4 border-gray-300 border-t-blue-500 rounded-full animate-spin"></div>
    </div>
  }
  
  @if (error) {
    <div class="absolute inset-0 flex flex-col items-center justify-center bg-black/50 text-white p-4">
      <div class="text-red-500 text-4xl mb-2">
        <i class="fas fa-exclamation-triangle"></i>
      </div>
      <p class="text-center">{{ error }}</p>
    </div>
  }
  
  <video
    #videoElement
    [src]="videoUrl"
    crossorigin="anonymous"
    [poster]="posterUrl"
    controls="true"
    [autoplay]="autoplay"
    [muted]="muted"
    [loop]="loop"
    [style.height]="height ? height + 'px' : null"
    [style.width]="width ? width + 'px' : null"
    (loadstart)="onLoadStart()"
    (canplay)="onCanPlay()"
    (error)="onError($event)"
    class="w-full h-full object-contain">
    Your browser does not support HTML5 video.
  </video>
</div>